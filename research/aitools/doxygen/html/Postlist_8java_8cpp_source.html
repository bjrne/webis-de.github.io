<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>/home/palakars/workspace-inprogress/code-in-progress/aitools3/aitools3-aq-invertedindex-cpp/src/jni/Postlist.java.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>/home/palakars/workspace-inprogress/code-in-progress/aitools3/aitools3-aq-invertedindex-cpp/src/jni/Postlist.java.cpp</h1><a href="Postlist_8java_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* Copyright (C) 2010 webis.de</span>
<a name="l00002"></a>00002 <span class="comment"> * All rights reserved.</span>
<a name="l00003"></a>00003 <span class="comment"> */</span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &quot;<a class="code" href="Postlist_8java_8h.html">Postlist.java.h</a>&quot;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &quot;<a class="code" href="JNIGateway_8hpp.html">JNIGateway.hpp</a>&quot;</span>
<a name="l00006"></a>00006 
<a name="l00014"></a>00014 <span class="comment">// Do NOT include these methods in namespaces (changes the function signatures)</span>
<a name="l00015"></a>00015 <span class="keyword">using namespace </span>aitools::invertedindex;
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="comment">/*</span>
<a name="l00018"></a>00018 <span class="comment"> * Class:     de_aitools_aq_invertedindex_core_Postlist</span>
<a name="l00019"></a>00019 <span class="comment"> * Method:    natGetLength</span>
<a name="l00020"></a>00020 <span class="comment"> * Signature: (I)I</span>
<a name="l00021"></a>00021 <span class="comment"> */</span>
<a name="l00022"></a>00022 <a class="code" href="jni__md__linux_8h.html#a5ef9c7c852d5e0abf2ae84d4e9c5a7b7">JNIEXPORT</a> <a class="code" href="jni__md__linux_8h.html#ad6e59d976b9b5bae7a19d746bd2879c1">jint</a> <a class="code" href="jni__md__linux_8h.html#a75ae116b9b28eeeb6a479622e476c1ed">JNICALL</a> <a class="code" href="Postlist_8java_8cpp.html#a6521efe3ffa6290aed653162996569af">Java_de_aitools_aq_invertedindex_core_Postlist_natGetLength</a>
<a name="l00023"></a><a class="code" href="Postlist_8java_8h.html#abde3be3e0b1e6794a2bb3c27264d6136">00023</a> (<a class="code" href="structJNINativeInterface__.html">JNIEnv</a>* env, <a class="code" href="jni_8h.html#a0a43fa69ff4f987a8f30dfb8b61d818a">jobject</a> jpostlist, <a class="code" href="jni__md__linux_8h.html#ad6e59d976b9b5bae7a19d746bd2879c1">jint</a> oid)
<a name="l00024"></a>00024 {
<a name="l00025"></a>00025         <span class="keywordflow">try</span>
<a name="l00026"></a>00026         {
<a name="l00027"></a>00027                 <span class="keywordflow">return</span> JNIGateway::get_iterator(oid)-&gt;header().value_count;
<a name="l00028"></a>00028         }
<a name="l00029"></a>00029         <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; error)
<a name="l00030"></a>00030         {
<a name="l00031"></a>00031                 env-&gt;ThrowNew(env-&gt;FindClass(JNIGateway::java_exception), error.what());
<a name="l00032"></a>00032         }
<a name="l00033"></a>00033         <span class="keywordflow">return</span> 0;
<a name="l00034"></a>00034 }
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="comment">/*</span>
<a name="l00037"></a>00037 <span class="comment"> * Class:     de_aitools_aq_invertedindex_core_Postlist</span>
<a name="l00038"></a>00038 <span class="comment"> * Method:    natDelete</span>
<a name="l00039"></a>00039 <span class="comment"> * Signature: (I)V</span>
<a name="l00040"></a>00040 <span class="comment"> */</span>
<a name="l00041"></a>00041 <a class="code" href="jni__md__linux_8h.html#a5ef9c7c852d5e0abf2ae84d4e9c5a7b7">JNIEXPORT</a> <span class="keywordtype">void</span> <a class="code" href="jni__md__linux_8h.html#a75ae116b9b28eeeb6a479622e476c1ed">JNICALL</a> <a class="code" href="Postlist_8java_8cpp.html#a39422d4a03ef481e235b17b7e528f6bc">Java_de_aitools_aq_invertedindex_core_Postlist_natDelete</a>
<a name="l00042"></a><a class="code" href="Postlist_8java_8h.html#abe9ab8843fa9ad9231338e68afb04347">00042</a> (<a class="code" href="structJNINativeInterface__.html">JNIEnv</a>* env, <a class="code" href="jni_8h.html#a0a43fa69ff4f987a8f30dfb8b61d818a">jobject</a> jpostlist, <a class="code" href="jni__md__linux_8h.html#ad6e59d976b9b5bae7a19d746bd2879c1">jint</a> oid)
<a name="l00043"></a>00043 {
<a name="l00044"></a>00044         JNIGateway::delete_iterator(oid);
<a name="l00045"></a>00045 }
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="comment">/*</span>
<a name="l00048"></a>00048 <span class="comment"> * Class:     de_aitools_aq_invertedindex_core_Postlist</span>
<a name="l00049"></a>00049 <span class="comment"> * Method:    natRewind</span>
<a name="l00050"></a>00050 <span class="comment"> * Signature: (I)V</span>
<a name="l00051"></a>00051 <span class="comment"> */</span>
<a name="l00052"></a>00052 <a class="code" href="jni__md__linux_8h.html#a5ef9c7c852d5e0abf2ae84d4e9c5a7b7">JNIEXPORT</a> <span class="keywordtype">void</span> <a class="code" href="jni__md__linux_8h.html#a75ae116b9b28eeeb6a479622e476c1ed">JNICALL</a> <a class="code" href="Postlist_8java_8cpp.html#a91cbab49e89f07a50d8f46c89e5491b6">Java_de_aitools_aq_invertedindex_core_Postlist_natRewind</a>
<a name="l00053"></a><a class="code" href="Postlist_8java_8h.html#a2a96f27943732ff047698f20ed55d8c9">00053</a> (<a class="code" href="structJNINativeInterface__.html">JNIEnv</a>* env, <a class="code" href="jni_8h.html#a0a43fa69ff4f987a8f30dfb8b61d818a">jobject</a> jpostlist, <a class="code" href="jni__md__linux_8h.html#ad6e59d976b9b5bae7a19d746bd2879c1">jint</a> oid)
<a name="l00054"></a>00054 {
<a name="l00055"></a>00055         <span class="keywordflow">try</span>
<a name="l00056"></a>00056         {
<a name="l00057"></a>00057                 JNIGateway::get_iterator(oid)-&gt;rewind();
<a name="l00058"></a>00058         }
<a name="l00059"></a>00059         <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; error)
<a name="l00060"></a>00060         {
<a name="l00061"></a>00061                 env-&gt;ThrowNew(env-&gt;FindClass(JNIGateway::java_exception), error.what());
<a name="l00062"></a>00062         }
<a name="l00063"></a>00063 }
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 <span class="comment">/*</span>
<a name="l00066"></a>00066 <span class="comment"> * Class:     de_aitools_aq_invertedindex_core_Postlist</span>
<a name="l00067"></a>00067 <span class="comment"> * Method:    natNext</span>
<a name="l00068"></a>00068 <span class="comment"> * Signature: (I)[B</span>
<a name="l00069"></a>00069 <span class="comment"> */</span>
<a name="l00070"></a>00070 <a class="code" href="jni__md__linux_8h.html#a5ef9c7c852d5e0abf2ae84d4e9c5a7b7">JNIEXPORT</a> <a class="code" href="jni_8h.html#acb34823f6a2f4a76dc58fd9cf6b52ff6">jbyteArray</a> <a class="code" href="jni__md__linux_8h.html#a75ae116b9b28eeeb6a479622e476c1ed">JNICALL</a> <a class="code" href="Postlist_8java_8cpp.html#a40027c5e7e2f3aa4b4ab1c3d1b89128e">Java_de_aitools_aq_invertedindex_core_Postlist_natNext</a>
<a name="l00071"></a><a class="code" href="Postlist_8java_8h.html#aa8bf0ea16ec498166838b096bbd27b4d">00071</a> (<a class="code" href="structJNINativeInterface__.html">JNIEnv</a>* env, <a class="code" href="jni_8h.html#a0a43fa69ff4f987a8f30dfb8b61d818a">jobject</a> jpostlist, <a class="code" href="jni__md__linux_8h.html#ad6e59d976b9b5bae7a19d746bd2879c1">jint</a> oid)
<a name="l00072"></a>00072 {
<a name="l00073"></a>00073         <span class="keywordflow">try</span>
<a name="l00074"></a>00074         {
<a name="l00075"></a>00075                 <span class="keyword">const</span> Iterator::SharedPointer&amp; it(JNIGateway::get_iterator(oid));
<a name="l00076"></a>00076                 <span class="keywordflow">if</span> (it-&gt;is_valid())
<a name="l00077"></a>00077                 {
<a name="l00078"></a>00078                         <a class="code" href="jni_8h.html#acb34823f6a2f4a76dc58fd9cf6b52ff6">jbyteArray</a> jentry(env-&gt;NewByteArray(it-&gt;size()));
<a name="l00079"></a>00079                         env-&gt;SetByteArrayRegion(jentry, 0, it-&gt;size(), (<a class="code" href="jni__md__linux_8h.html#acb5e31bb111c99042a7459568cab51bc">jbyte</a>*)it-&gt;value());
<a name="l00080"></a>00080                         it-&gt;advance();
<a name="l00081"></a>00081                         <span class="keywordflow">return</span> jentry;
<a name="l00082"></a>00082                 }
<a name="l00083"></a>00083         }
<a name="l00084"></a>00084         <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; error)
<a name="l00085"></a>00085         {
<a name="l00086"></a>00086                 env-&gt;ThrowNew(env-&gt;FindClass(JNIGateway::java_exception), error.what());
<a name="l00087"></a>00087         }
<a name="l00088"></a>00088         <span class="keywordflow">return</span> NULL;
<a name="l00089"></a>00089 }
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed May 30 15:07:26 2012 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
